(window.webpackJsonprubato=window.webpackJsonprubato||[]).push([[0],{136:function(e,t,a){e.exports=a(272)},141:function(e,t,a){},142:function(e,t,a){},150:function(e,t){},152:function(e,t){},191:function(e,t){},192:function(e,t){},20:function(e,t,a){e.exports={bandVideos:"Band_bandVideos__kA9HU"}},272:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(69),l=a.n(c),o=(a(141),a(19)),i=a(27),u=(a(142),a(1)),m=a(26),s=a.n(m),d=function(e){var t=e.name;return r.a.createElement("button",{style:{marginTop:"20px"},className:"btn waves-effect waves-light",type:"submit"},t,r.a.createElement("i",{className:"material-icons right"},"send"))},p=function(e){var t=e.icon,a=e.classname,n=e.onClick,c=e.text;return r.a.createElement("button",{onClick:n,className:s()("btn waves-effect waves-light hoverable",a,{"halfway-fab btn-floating":!c})},c,r.a.createElement("i",{className:"material-icons right"},t))},f=function(e){var t=e.onClick,a=e.icon,n=e.classname;return r.a.createElement("button",{className:s()("right red btn-floating hoverable",n),onClick:t},r.a.createElement("i",{className:"material-icons right"},a))},E=function(e){var t=e.mainIcon,a=e.title,n=e.firstLine,c=e.secondLine,l=e.secondaryIcon,i=e.link,u=e.isAdmin,m=e.onDeleteClick;return r.a.createElement("li",{className:"collection-item avatar"},r.a.createElement("i",{className:"material-icons circle"},t),r.a.createElement("span",{className:"title"},a),r.a.createElement("p",null,n," ",r.a.createElement("br",null)," ",c),u&&r.a.createElement("div",{style:h,className:"secondary-content"},r.a.createElement(p,{icon:"delete",classname:"red btn-small",onClick:m})),r.a.createElement(o.b,{to:i,className:"secondary-content"},r.a.createElement("i",{className:"material-icons"},l)))};E.defaultProps={mainIcon:"account_circle",secondaryIcon:"send",link:"/",isAdmin:!1};var b=function(e){var t=e.children;return r.a.createElement("ul",{className:"collection"},t)},h={marginRight:"30px",marginTop:"15px"},v=function(e){var t=e.children;return r.a.createElement("li",{className:"collection-item"},t)},g=a(49),N=a(132),O=a.n(N),y=a(14),k=a.n(y),j=a(21),S=a.n(j);function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach(function(t){Object(g.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var _="admin",x="user",A="band",D=function(e){return e&&O.a.decode(e.slice(7),{complete:!0})},I=function(){var e=localStorage.getItem("token"),t=D(e);return!!t&&{user:t.payload,token:e}},F=function(){var e={headers:{Authorization:localStorage.getItem("token")}};return{get:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return k.a.get(t,C({},e,{},a))},post:function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return k.a.post(t,a,C({},e,{},n))},put:function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return k.a.put(t,a,C({},e,{},n))},delete:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return k.a.delete(t,C({},e,{},a))}}},B=function(e){return e.replace("www.youtube.com/watch?v=","www.youtube.com/embed/")},P=function(e){return F().get("https://rubato-no.herokuapp.com/api/person/searchById/".concat(e)).then(function(e){return e.data})},L=function(){localStorage.removeItem("token"),delete k.a.defaults.headers.common.Authorization},R=function(e){return S()(e).format("DD-MM-YYYY")},V=function(){return F().get("https://rubato-no.herokuapp.com/api/person/list-all").then(function(e){return e.data})},U=a(133),Y=a.n(U),q=a(72),z=a.n(q),T=function(e){var t=e.children,a=e.className,n=e.isOpen,c=e.overlayClassName,l=e.title,o=e.onClose;return r.a.createElement(Y.a,{ariaHideApp:!1,className:s()(z.a.modal,a),overlayClassName:s()(z.a.overlay,c),onRequestClose:o,closeTimeoutMS:350,isOpen:n},r.a.createElement("div",null,r.a.createElement("i",{className:"material-icons right hoverable",onClick:o},"close"),l&&r.a.createElement("div",{className:"center-align",style:{fontWeight:"bold"}},l),r.a.createElement("div",{className:"center-align"},t)))},W=function(){return r.a.createElement("div",{className:"container center-align",style:{marginTop:"150px"}},r.a.createElement("div",{className:"preloader-wrapper big active container center-align"},r.a.createElement("div",{className:"spinner-layer spinner-blue"},r.a.createElement("div",{className:"circle-clipper left"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"gap-patch"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"circle-clipper right"},r.a.createElement("div",{className:"circle"}))),r.a.createElement("div",{className:"spinner-layer spinner-red"},r.a.createElement("div",{className:"circle-clipper left"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"gap-patch"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"circle-clipper right"},r.a.createElement("div",{className:"circle"}))),r.a.createElement("div",{className:"spinner-layer spinner-yellow"},r.a.createElement("div",{className:"circle-clipper left"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"gap-patch"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"circle-clipper right"},r.a.createElement("div",{className:"circle"}))),r.a.createElement("div",{className:"spinner-layer spinner-green"},r.a.createElement("div",{className:"circle-clipper left"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"gap-patch"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"circle-clipper right"},r.a.createElement("div",{className:"circle"})))))},M=a(33),H=a.n(M),J=function(e){var t=e.value,a=e.onChange,n=e.name,c=e.label,l=e.required,o=e.icon;return r.a.createElement("div",{className:"input-field col s6"},o&&r.a.createElement("i",{className:"material-icons prefix"},o),r.a.createElement("input",{type:"text",id:"".concat(n,"-input"),value:t,onChange:a,required:l}),r.a.createElement("label",{htmlFor:"".concat(n,"-input")},c))};J.defaultProps={required:!0};var G=function(e){var t=e.value,a=e.onChange,n=e.options;return r.a.createElement("select",{value:t,onChange:a,className:"browser-default"},r.a.createElement("option",{key:9999,disabled:!0,value:""},"Select option"),n)},Q=function(e){var t=e.value,a=e.onChange,n=e.name,c=e.label,l=e.required;return r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("input",{type:"date",id:"".concat(n,"-input"),value:t,onChange:a,required:l}),r.a.createElement("label",{htmlFor:"".concat(n,"-input")},c))};Q.defaultProps={required:!0};var Z=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)({clicked:!1,id:-1}),o=Object(u.a)(l,2),m=o[0],s=o[1],d=Object(n.useState)(!1),f=Object(u.a)(d,2),h=f[0],v=f[1],g=Object(n.useState)(""),N=Object(u.a)(g,2),O=N[0],y=N[1],k=I();Object(n.useEffect)(function(){0===O.length&&V().then(function(e){c(e)})},[k.token,h,O]),Object(n.useEffect)(function(){O&&O.length>0&&function(e){return F().get("https://rubato-no.herokuapp.com/api/person/search/".concat(e)).then(function(e){return e.data})}(O).then(function(e){return c(e)})},[O]);return a?k.user.role!==_?r.a.createElement(i.a,{to:"/login"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container center-align"},r.a.createElement(J,{icon:"search",name:"search",value:O,onChange:function(e){return y(e.target.value)},label:"Search anyone"})),r.a.createElement(b,null,a&&a.map(function(e){return r.a.createElement("div",{className:H.a.item,key:e.personId},r.a.createElement(E,{title:e.name,firstLine:e.username,secondLine:e.about,link:"/user-details/".concat(e.personId),isAdmin:!0,onDeleteClick:function(){return s({clicked:!0,id:e.personId})}}))}),r.a.createElement(T,{title:"Confirmation Alert!!",isOpen:m.clicked,onClose:function(){return s({clicked:!1,id:-1})}},r.a.createElement($,{users:a,id:m.id}),r.a.createElement("div",{className:H.a.deleteButton},r.a.createElement(p,{text:"Yes, Delete it",classname:"red",onClick:function(){var e;(e=m.id,F().delete("https://rubato-no.herokuapp.com/api/person/delete/".concat(e)).then(function(){return!0})).then(function(e){s({clicked:!1,id:-1}),v(e)})}})),r.a.createElement(p,{text:"Cancel",onClick:function(){return s({clicked:!1,id:-1})}})))):r.a.createElement(W,null)},$=function(e){var t=e.users,a=e.id,n=t&&-1!==a&&t.filter(function(e){return e.personId.toString()===a.toString()})[0],c="This action is permanent and it will delete all the data related to ".concat(n?n.name:"",".");return r.a.createElement("div",{className:H.a.text},c," ",r.a.createElement("br",null),"Are you sure you want to delete?")},K=function(e){var t=e.history,a=Object(n.useState)(""),c=Object(u.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)(""),m=Object(u.a)(i,2),s=m[0],p=m[1];return r.a.createElement("div",{id:"Login",className:"input-field center-align"},r.a.createElement("h6",null,r.a.createElement("b",null,"If you are registered, login here.")),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),k.a.post("https://rubato-no.herokuapp.com/api/register/signIn",{username:l,password:s}).then(function(e){var a;a=e.data.token,localStorage.setItem("token",a),a?k.a.defaults.headers.common.Authorization=a:delete k.a.defaults.headers.common.Authorization,t.push("/")}).catch(function(e){return console.log(e,"login error")})}},r.a.createElement("div",{className:"container center-align"},r.a.createElement(J,{value:l,onChange:function(e){return o(e.target.value)},label:"Username",name:"username"}),r.a.createElement(J,{value:s,onChange:function(e){return p(e.target.value)},label:"Password",name:"password"}),r.a.createElement(d,{name:"Login"}))))},X=function(){var e=I();return r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper blue-grey darken-4"},r.a.createElement("a",{href:"https://rubato.no/",className:"brand-logo center"},r.a.createElement("b",null,"rubato.")),r.a.createElement("ul",{id:"nav-mobile",className:"left hide-on-med-and-down"},r.a.createElement("li",null,r.a.createElement("i",{style:{marginLeft:"5px"},className:"material-icons"},"account_circle")),e&&r.a.createElement("li",null,r.a.createElement("span",{style:{fontWeight:"bold",marginLeft:"5px"}},e.user.name))),r.a.createElement("ul",{className:"right hide-on-med-and-down"},e?r.a.createElement("li",null,r.a.createElement(o.b,{to:"/login",onClick:L},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(o.b,{to:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/register"},"Register"))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://rubato.no/"},"Blog")))))},ee=[r.a.createElement("option",{key:2,value:"user"},"USER"),r.a.createElement("option",{key:3,value:"band"},"BAND")],te=function(e){var t=e.history,a=Object(n.useState)(""),c=Object(u.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)(""),m=Object(u.a)(i,2),s=m[0],p=m[1],f=Object(n.useState)(""),E=Object(u.a)(f,2),b=E[0],h=E[1],v=Object(n.useState)(""),g=Object(u.a)(v,2),N=g[0],O=g[1],y=Object(n.useState)(""),j=Object(u.a)(y,2),S=j[0],w=j[1],C=Object(n.useState)(""),_=Object(u.a)(C,2),x=_[0],A=_[1],D=Object(n.useState)(""),I=Object(u.a)(D,2),F=I[0],B=I[1],P=Object(n.useState)(""),L=Object(u.a)(P,2),R=L[0],V=L[1];return r.a.createElement("div",null,r.a.createElement("h6",{className:"center-align",style:{marginBottom:"20px"}},r.a.createElement("b",null,"Don't have an account yet, get yourself registered here.")),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),k.a.post("https://rubato-no.herokuapp.com/api/register/signUp",{name:l,username:s,phone:b,password:N,confirmPassword:S,about:F,price:R,role:x}).then(function(e){console.log(e.data)}),t.push("/login")}},r.a.createElement("div",{className:"container center-align"},r.a.createElement(G,{options:ee,value:x,onChange:function(e){return A(e.target.value)}}),x&&r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{onChange:function(e){return o(e.target.value)},value:l,label:"band"===x?"Band Name":"Your Name",name:"band"}),r.a.createElement(J,{value:s,onChange:function(e){return p(e.target.value)},label:"Email",name:"username"}),r.a.createElement(J,{value:b,onChange:function(e){return h(e.target.value)},label:"Phone Number",name:"phone"}),r.a.createElement(J,{value:N,onChange:function(e){return O(e.target.value)},label:"Password",name:"password"}),r.a.createElement(J,{value:S,onChange:function(e){return w(e.target.value)},label:"Confirm Password",name:"confirmPassword"}),"band"===x&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("textarea",{id:"about-input",value:F,name:"about",onChange:function(e){return B(e.target.value)},required:!0}),r.a.createElement("label",{htmlFor:"about-input"},"Write Description of Your Band")),r.a.createElement(J,{value:R,onChange:function(e){return V(e.target.value)},label:"Booking Fee",name:"price"})),r.a.createElement(d,{name:"Register"})))))},ae=Object(n.createContext)(null),ne=D(localStorage.getItem("token")),re=function(e){var t=e.children;return r.a.createElement(ae.Provider,{value:{decoded:ne}},t)},ce=function(){var e=I();if(!e)return r.a.createElement(i.a,{to:"/login"});switch(e.user.role){case _:return r.a.createElement(i.a,{to:"/admin"});case x:return r.a.createElement(i.a,{to:"/user-profile"});case A:return r.a.createElement(i.a,{to:"/band"});default:return r.a.createElement(i.a,{to:"/login"})}},le=function(e){var t=e.title,a=e.icon,n=e.onClick,c=e.classname;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-image"},r.a.createElement("span",{className:"card-title blue-grey",style:{width:"100%",fontWeight:"bold"}},t),r.a.createElement(p,{onClick:n,icon:a,classname:c})))},oe=function(e){var t=e.children;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},t))},ie=function(e){var t=e.children,a=e.imageContent;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-image"},a),r.a.createElement("div",{className:"card-content"},t))},ue=a(20),me=a.n(ue),se=a(40),de=a.n(se),pe=function(e){var t=e.title,a=e.children,n=e.button,c=e.showFullUnderline,l=e.childStyle;return r.a.createElement("div",{className:de.a.root},r.a.createElement("div",{className:de.a.title},r.a.createElement("span",null,t),r.a.createElement("div",{className:s()(de.a.underline,Object(g.a)({},de.a.fullWidth,c))}),n),r.a.createElement("div",{className:l},a))},fe=a(50),Ee=a(74),be=a.n(Ee),he=function(e){var t=e.referenceButton,a=e.children,n=e.isOpen;return r.a.createElement(fe.a,null,r.a.createElement(fe.c,null,function(e){var a=e.ref;return r.a.createElement("div",{ref:a},t)}),n?r.a.createElement(fe.b,{placement:"bottom"},function(e){var t=e.ref,n=e.style,c=e.placement,l=e.arrowProps;return r.a.createElement("div",{ref:t,className:be.a.popper,style:n,"data-placement":c},a,r.a.createElement("div",{ref:l.ref,style:l.style,className:be.a.arrow,"data-placement":c}))}):null)},ve=function(e){var t=e.onDelete,a=Object(n.useState)(!1),c=Object(u.a)(a,2),l=c[0],o=c[1];return r.a.createElement(he,{isOpen:l,referenceButton:r.a.createElement(f,{onClick:function(){return o(!l)},icon:"delete"})},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"},className:"center-align"},"Are you sure?",r.a.createElement("div",{style:{margin:"8px 0 8px 0"}},r.a.createElement(p,{text:"Yes, Delete it",classname:"red",onClick:t})),r.a.createElement(p,{text:"Cancel",onClick:function(){return o(!1)}})))},ge=function(e){var t=e.src,a=e.videoId,n=e.title,c=e.description,l=e.refetch;return r.a.createElement(ie,{imageContent:r.a.createElement("iframe",{src:t,frameBorder:0,allow:"autoplay; encrypted-media",allowFullScreen:!0,title:a,width:"100%"})},r.a.createElement(ve,{onDelete:function(){F().delete("https://rubato-no.herokuapp.com/api/video/delete/".concat(a)).then(function(){l(3)})}}),r.a.createElement("span",{className:"card-title"},n),r.a.createElement("p",null,c))},Ne=function(e){var t=e.setShowForm,a=e.setRefetch,c=Object(n.useState)(""),l=Object(u.a)(c,2),o=l[0],i=l[1],m=Object(n.useState)(""),s=Object(u.a)(m,2),p=s[0],f=s[1],E=Object(n.useState)(""),b=Object(u.a)(E,2),h=b[0],v=b[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),F().post("https://rubato-no.herokuapp.com/api/video/upload",{name:o,path:p,type:h}).then(function(){t(!1),a(4)})}},r.a.createElement(J,{value:o,onChange:function(e){return i(e.target.value)},label:"Video Name",name:"name"}),r.a.createElement(J,{value:p,onChange:function(e){return f(e.target.value)},label:"Video Link",name:"path"}),r.a.createElement(J,{value:h,onChange:function(e){return v(e.target.value)},label:"Description",name:"description"}),r.a.createElement(d,{name:"Submit"}))},Oe=function(e){var t=e.videos,a=e.setRefetch,c=Object(n.useState)(!1),l=Object(u.a)(c,2),o=l[0],i=l[1];return r.a.createElement(pe,{title:"Video Section",button:r.a.createElement(p,{text:"Add video",icon:"playlist_add",classname:"blue-grey",onClick:function(){return i(!0)}})},r.a.createElement("div",{className:me.a.bandVideos},t&&t.map(function(e){return r.a.createElement(ge,{title:e.name,src:B(e.path),description:e.type,videoId:e.idVideo,key:e.idVideo,refetch:a})})),r.a.createElement(T,{isOpen:o,title:"Add Video Form",onClose:function(){return i(!1)}},r.a.createElement("div",{className:"container center-align"},r.a.createElement(Ne,{setShowForm:i,setRefetch:a}))))},ye=function(e){var t=e.setShowForm,a=e.setRefetch,c=e.form,l=Object(n.useState)(""),o=Object(u.a)(l,2),i=o[0],m=o[1],s=Object(n.useState)(""),p=Object(u.a)(s,2),f=p[0],E=p[1],b=Object(n.useState)(""),h=Object(u.a)(b,2),v=h[0],g=h[1];return r.a.createElement("div",{className:"container center-align"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),F().post("https://rubato-no.herokuapp.com/api/".concat(c,"/upload"),{name:i,path:f,description:v}).then(function(){t(!1),a(6)})}},r.a.createElement(J,{value:i,onChange:function(e){return m(e.target.value)},label:"image"===c?"Image Name":"Album Name",name:"name"}),r.a.createElement(J,{value:f,onChange:function(e){return E(e.target.value)},label:"image"===c?"Image Link":"Album Link",name:"path"}),r.a.createElement(J,{value:v,onChange:function(e){return g(e.target.value)},label:"Description",name:"description"}),r.a.createElement(d,{name:"Submit"})))};ye.defaultProps={form:"image"};var ke=ye,je=function(e){var t=e.images,a=e.setRefetch,c=Object(n.useState)(!1),l=Object(u.a)(c,2),o=l[0],i=l[1];return r.a.createElement(pe,{title:"Image Section",button:r.a.createElement(p,{text:"Add image",icon:"playlist_add",classname:"blue-grey",onClick:function(){return i(!0)}})},r.a.createElement("div",{className:me.a.bandVideos},t&&t.map(function(e){return r.a.createElement(Se,{image:e,refetch:a,key:e.idImage})})),r.a.createElement(T,{isOpen:o,title:"Add Image",onClose:function(){return i(!1)}},r.a.createElement(ke,{setShowForm:i,setRefetch:a})))},Se=function(e){var t=e.image,a=e.refetch;return r.a.createElement(ie,{imageContent:r.a.createElement("img",{src:t.path,alt:"new"})},r.a.createElement(ve,{onDelete:function(){F().delete("https://rubato-no.herokuapp.com/api/image/delete/".concat(t.idImage)).then(function(){a(7)})}}),r.a.createElement("span",{className:"card-title"},t.name),r.a.createElement("p",null,t.description))},we=function(e){var t=e.showForm,a=e.setShowForm,c=e.band,l=e.setRefetch,o=Object(n.useState)(c.name),i=Object(u.a)(o,2),m=i[0],s=i[1],p=Object(n.useState)(c.about),f=Object(u.a)(p,2),E=f[0],b=f[1],h=Object(n.useState)(c.phone),v=Object(u.a)(h,2),g=v[0],N=v[1],O=Object(n.useState)(c.price),y=Object(u.a)(O,2),k=y[0],j=y[1];return r.a.createElement(T,{isOpen:t,title:"Update Band Information",onClose:function(){return a(!1)}},r.a.createElement("div",{className:"container center-align"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),F().put("https://rubato-no.herokuapp.com/api/person/update-band/".concat(c.idPerson),{name:m,about:E,phone:g,price:k}).then(function(){a(!1),l(2)})}},r.a.createElement(J,{defaultValue:c.name,name:"name",value:m,icon:"account_circle",onChange:function(e){return s(e.target.value)}}),r.a.createElement(J,{name:"about",value:E,icon:"description",onChange:function(e){return b(e.target.value)}}),r.a.createElement(J,{name:"number",value:g,icon:"phone",onChange:function(e){return N(e.target.value)}}),r.a.createElement(J,{name:"price",value:k,icon:"attach_money",onChange:function(e){return j(e.target.value)}}),r.a.createElement(d,{name:"Submit"}))))},Ce={large:{width:300,height:380},compact:{width:300,height:80}},_e=function(e){var t=e.uri,a=e.view,n=e.theme,c=e.size;return"string"===typeof c&&(c=Ce[c]),r.a.createElement("iframe",{title:"Spotify",className:"SpotifyPlayer",src:"https://embed.spotify.com/?uri=".concat(t,"&view=").concat(a,"&theme=").concat(n),width:c.width,height:c.height,frameBorder:"0",allowtransparency:"true"})};_e.defaultProps={size:"large",view:"list",theme:"black"};var xe=_e,Ae=function(e){var t=e.audios,a=e.setRefetch,c=Object(n.useState)(!1),l=Object(u.a)(c,2),o=l[0],i=l[1];return r.a.createElement(pe,{title:"Audio Section",button:r.a.createElement(p,{text:"Add album",icon:"playlist_add",classname:"blue-grey",onClick:function(){return i(!0)}})},r.a.createElement("div",{className:me.a.bandVideos},t&&t.map(function(e){return r.a.createElement(De,{audio:e,key:e.idAudio,refetch:a})})),r.a.createElement(T,{isOpen:o,title:"Add Spotify Album",onClose:function(){return i(!1)}},r.a.createElement(ke,{form:"audio",setRefetch:a,setShowForm:i})))},De=function(e){var t=e.audio,a=e.refetch;return r.a.createElement(ie,{imageContent:r.a.createElement(xe,{uri:t.path})},r.a.createElement(ve,{onDelete:function(){F().delete("https://rubato-no.herokuapp.com/api/audio/delete/".concat(t.idAudio)).then(function(){a(5)})}}),r.a.createElement("span",{className:"card-title"},t.name),r.a.createElement("p",null,t.description))},Ie=function(e){var t=e.bookings;return r.a.createElement("ul",{className:"collection"},t.filter(function(e){return S()(e.toDate).isAfter(S()().subtract(1,"days"))}).map(function(e){return r.a.createElement(v,{key:e.id},r.a.createElement("b",null,"Start:")," ",R(e.fromDate),r.a.createElement("br",null),r.a.createElement("b",null,"End:")," ",R(e.toDate),r.a.createElement("br",null))}))},Fe=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],c=t[1],l=I();return Object(n.useEffect)(function(){F().get("https://rubato-no.herokuapp.com/api/booking/user-bookings/".concat(l.user.idPerson)).then(function(e){return c(e.data)})},[l.user.idPerson]),null===a||0===a.length?r.a.createElement("div",null,"You did not have any bookings."):r.a.createElement(Ie,{bookings:a})},Be=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(0),o=Object(u.a)(l,2),i=o[0],m=o[1],s=Object(n.useState)(!1),d=Object(u.a)(s,2),p=d[0],f=d[1],E=I();return Object(n.useEffect)(function(){P(E.user.idPerson).then(function(e){return c(e)})},[E.token,i]),a?(console.log(a),r.a.createElement("div",{style:{marginTop:"100px"},className:"container"},r.a.createElement(le,{title:a.name,icon:"edit",onClick:function(){return f(!0)}}),r.a.createElement(Pe,{band:a}),r.a.createElement(we,{showForm:p,setShowForm:f,band:a,setRefetch:m}),r.a.createElement(pe,{title:"Bookings",showFullUnderline:!0},a.bookings&&a.bookings.length>0?r.a.createElement(Ie,{bookings:a.bookings}):r.a.createElement("div",null,"You don't have any bookings yet.")),r.a.createElement(Oe,{videos:a.video,setRefetch:m}),r.a.createElement(Ae,{audios:a.audio,setRefetch:m}),r.a.createElement(je,{images:a.images,setRefetch:m}))):r.a.createElement(W,null)},Pe=function(e){var t=e.band;return r.a.createElement(oe,null,r.a.createElement("div",null,r.a.createElement("b",null,"About:")," ",r.a.createElement("span",null,t.about)),r.a.createElement("div",null,r.a.createElement("b",null,"Contact Number:")," ",r.a.createElement("span",null,t.phone)),r.a.createElement("div",null,r.a.createElement("b",null,"Booking Fee:")," ",r.a.createElement("span",null,t.price)))},Le=function(e){var t=e.user;return r.a.createElement(pe,{title:"Video Section",showFullUnderline:!0},r.a.createElement("div",{className:me.a.bandVideos},t.video&&t.video.map(function(e){return r.a.createElement(ie,{imageContent:r.a.createElement("iframe",{src:B(e.path),frameBorder:0,allow:"autoplay; encrypted-media",allowFullScreen:!0,title:e.idVideo,width:"100%"}),key:e.idVideo},r.a.createElement("span",{className:"card-title"},e.name),r.a.createElement("p",null,e.type))})))},Re=function(e){var t=e.user;return r.a.createElement(pe,{title:"Image Section",showFullUnderline:!0},r.a.createElement("div",{className:me.a.bandVideos},t.images&&t.images.map(function(e){return r.a.createElement(ie,{imageContent:r.a.createElement("img",{src:e.path,alt:"new"}),key:e.idImage},r.a.createElement("span",{className:"card-title"},e.name),r.a.createElement("p",null,e.description))})))},Ve=function(e){var t=e.user;return r.a.createElement(pe,{title:"Audio Section",showFullUnderline:!0},r.a.createElement("div",{className:me.a.bandVideos},t.audio&&t.audio.map(function(e){return r.a.createElement(xe,{uri:e.path,key:e.idAudio})})))},Ue=function(e){var t=e.match,a=e.history,c=I(),l=Object(n.useState)(null),o=Object(u.a)(l,2),i=o[0],m=o[1],s=t.params.id;Object(n.useEffect)(function(){P(s).then(function(e){return m(e)})},[s]);return i?(console.log(i),r.a.createElement("div",{style:{marginTop:"100px"},className:"container"},r.a.createElement(le,{title:i.name,icon:"arrow_back",onClick:function(){var e=c&&c.user.role===_?"/admin":"/user-profile";a.push(e)}}),r.a.createElement(Pe,{band:i}),r.a.createElement(pe,{title:"Bookings",showFullUnderline:!0},i.bookings&&i.bookings.length>0?r.a.createElement(Ie,{bookings:i.bookings}):r.a.createElement("div",null,"Band is free for booking!")),r.a.createElement(Le,{user:i}),r.a.createElement(Ve,{user:i}),r.a.createElement(Re,{user:i}))):r.a.createElement(W,null)},Ye=function(e){return e&&e.filter(function(e){return e.role===A}).map(function(e){return r.a.createElement("option",{key:e.personId,value:e.personId},e.name)})},qe=function(e){var t=e.bandList,a=e.setShowForm,c=Object(n.useState)(""),l=Object(u.a)(c,2),o=l[0],i=l[1],m=Object(n.useState)(""),s=Object(u.a)(m,2),p=s[0],f=s[1],E=Object(n.useState)(""),b=Object(u.a)(E,2),h=b[0],v=b[1],g=Object(n.useState)(""),N=Object(u.a)(g,2),O=N[0],y=N[1];return r.a.createElement("div",{className:"container center-align"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),(S()(o).isAfter(p)||S()(p).isBefore(o)?(y("Start date cannot be after end date."),0):!S()(p).isBefore(S()())||(y("Booking cannot be done in the past."),0))&&F().post("https://rubato-no.herokuapp.com/api/booking/create",{fromDate:o,toDate:p,bandId:h}).then(function(){a(!1)})}},r.a.createElement(G,{options:Ye(t),value:h,onChange:function(e){return v(e.target.value)}}),r.a.createElement(Q,{name:"fromDate",label:"Start Date",value:o,onChange:function(e){return i(e.target.value)}}),O&&r.a.createElement("div",{style:{color:"red"}},O),r.a.createElement(Q,{name:"toDate",label:"End Date",value:p,onChange:function(e){return f(e.target.value)}}),r.a.createElement(d,{name:"Submit"})))},ze=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(u.a)(l,2),i=o[0],m=o[1];return Object(n.useEffect)(function(){V().then(function(e){return c(e)})},[]),a?r.a.createElement("div",{className:"container",style:{marginTop:"30px"}},r.a.createElement(pe,{title:"Bookings",button:r.a.createElement(p,{text:"Add Booking",icon:"playlist_add",classname:"blue-grey",onClick:function(){return m(!0)}})},r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{isOpen:i,title:"Add Booking",onClose:function(){return m(!1)}},r.a.createElement(qe,{bandList:a,setShowForm:m})),r.a.createElement(Fe,null))),r.a.createElement(pe,{title:"Band List",showFullUnderline:!0},r.a.createElement(b,null,a&&a.filter(function(e){return e.role===A}).map(function(e){return r.a.createElement("div",{className:H.a.item,key:e.personId},r.a.createElement(E,{title:e.name,firstLine:e.username,secondLine:e.phone,link:"/user-details/".concat(e.personId)}))})))):r.a.createElement(W,null)},Te=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(re,null,r.a.createElement(o.a,null,r.a.createElement(i.b,{path:"/",component:X}),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:ce}),r.a.createElement(i.b,{exact:!0,path:"/login",component:K}),r.a.createElement(i.b,{exact:!0,path:"/admin",component:Z}),r.a.createElement(i.b,{exact:!0,path:"/register",component:te}),r.a.createElement(i.b,{exact:!0,path:"/band",component:Be}),r.a.createElement(i.b,{exact:!0,path:"/user-profile",component:ze}),r.a.createElement(i.b,{exact:!0,path:"/user-details/:id",component:Ue})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},33:function(e,t,a){e.exports={item:"Admin_item__2Lmrj",deleteButton:"Admin_deleteButton__2ukd8",text:"Admin_text__3dz1P"}},40:function(e,t,a){e.exports={root:"Section_root__E3HER",title:"Section_title__3rbDq",underline:"Section_underline__3m_Gf",fullWidth:"Section_fullWidth__HZ5Yk"}},72:function(e,t,a){e.exports={modal:"Modal_modal__3m_zz",overlay:"Modal_overlay__1Q8J1"}},74:function(e,t,a){e.exports={popper:"Popper_popper__2vqT9",arrow:"Popper_arrow__2whO_"}}},[[136,1,2]]]);
//# sourceMappingURL=main.a98e20ef.chunk.js.map